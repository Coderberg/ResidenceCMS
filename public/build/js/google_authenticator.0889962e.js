(self.webpackChunk=self.webpackChunk||[]).push([[931],{861:()=>{!function(e){"use strict";const t=e("#generate_google_auth_secret"),a=e('[name="auth_token"]').val(),n=e('[name="generatedSecret"]'),o=e('[name="authentication_code"]');e("#setUpAuthenticatorButton").click((function(){!0===t.data("generate-new-secret")&&e.ajax({method:"GET",url:"/en/user/google_authenticator_code",data:{csrf_token:a}}).done((function(t){const{secret:a,qr_code:o}=t,c=new Image;c.src=o,n.val(a),e("#generatedQrCode").html(c),e("#generatedSecret").html(a)}))})),e("#enable2fa").click((function(){let c=o.val().trim();c?e.ajax({method:"PUT",url:t.attr("action"),data:{csrf_token:a,secret:n.val(),authentication_code:c}}).done((function(){location.reload()})).fail((function(t){var a;a=t.responseJSON.message,e("#twoFactorAuthErrorMessage").text(a).removeClass("d-none")})):o.addClass("is-invalid").focus()})),e("#disable2fa").click((function(){e.ajax({method:"DELETE",url:t.attr("action"),data:{csrf_token:a}}).done((function(){location.reload()})).fail((function(){location.reload()}))})),o.keyup((function(){e(this).removeClass("is-invalid")})),e("#setUpAuthenticator").on("hidden.bs.modal",(function(){o.val("").removeClass("is-invalid"),e("#twoFactorAuthErrorMessage").text("").addClass("d-none")}))}(window.jQuery)}},e=>{var t;t=861,e(e.s=t)}]);