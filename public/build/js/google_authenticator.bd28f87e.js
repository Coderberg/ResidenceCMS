(self.webpackChunk=self.webpackChunk||[]).push([[931],{861:()=>{!function(e){"use strict";const t=e("#generate_google_auth_secret"),a=e('[name="generatedSecret"]'),n=e('[name="authentication_code"]');e("#setUpAuthenticatorButton").click((function(){!0===t.data("generate-new-secret")&&e.ajax({method:"GET",url:"/en/user/google_authenticator_code"}).done((function(t){const{secret:n,qr_code:o}=t,c=new Image;c.src=o,a.val(n),e("#generatedQrCode").html(c),e("#generatedSecret").html(n)}))})),e("#enable2fa").click((function(){let o=n.val().trim();o?e.ajax({method:"PUT",url:t.attr("action"),data:{secret:a.val(),authentication_code:o}}).done((function(){location.reload()})).fail((function(t){var a;a=t.responseJSON.message,e("#twoFactorAuthErrorMessage").text(a).removeClass("d-none")})):n.addClass("is-invalid").focus()})),e("#disable2fa").click((function(){e.ajax({method:"DELETE",url:t.attr("action")}).done((function(){location.reload()})).fail((function(){location.reload()}))})),n.keyup((function(){e(this).removeClass("is-invalid")})),e("#setUpAuthenticator").on("hidden.bs.modal",(function(){n.val("").removeClass("is-invalid"),e("#twoFactorAuthErrorMessage").text("").addClass("d-none")}))}(window.jQuery)}},e=>{var t;t=861,e(e.s=t)}]);